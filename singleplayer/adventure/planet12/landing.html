<!DOCTYPE html>
<html lang="fr">
<head>
    <!-- 
        Basic HTML metadata for responsive design and character encoding.
        'fr' indicates the document is in French.
    -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Runner</title>

    <!-- 
        Importing Bootstrap 4.1.3 for styling (CDN link).
        'integrity' and 'crossorigin' attributes provide security with SRI checks.
    -->
    <link 
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous"
    >

    <!-- 
        Custom planet-specific styles and fallback defaults for planet display.
        Adjust these CSS files to style the planet background, layout, and colors.
    -->
    <link rel="stylesheet" href="../../../css/planets/planet12.css">
    <link rel="stylesheet" href="../../../css/planets/default.css">

    <!-- Tab icon (Favicon) -->
    <link rel="icon" href="../../../images/p1down.png">

    <!-- 
        Google Analytics / Tag Manager snippet for usage tracking. 
        'async' loads it in parallel to not block rendering.
    -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-C8DGYXCTDV"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){ dataLayer.push(arguments); }
      gtag('js', new Date());
      gtag('config', 'G-C8DGYXCTDV');
    </script>
</head>

<body>
    <!-- 
        A back button that returns user to the map screen from the planet. 
        The 'onclick' calls a function in 'navigation.js'.
    -->
    <button class="btn btn-outline-dark" onclick="returnToMapFromPlanet()">
        &larr;
    </button>

    <!-- 
        Planet background. The .background-image class is likely styled in planet12.css.
    -->
    <div class="background-image"></div>

    <!-- 
        .content wraps all text and interactive buttons for the mission intros.
    -->
    <div class="content">

        <!-- 
            Section: Page 1 
            Intro text for the mission. 
        -->
        <div class="custom-title" style="color: #000000;">
            <a data-lang-key="welcomeInThePlanet">
                Bienvenu sur la planète
            </a> 
            Défaillance
        </div>

        <div class="page" id="page1">
            <div class="game-description">
                <p data-lang-key="text312">
                    Cette mission te demandera d’être plus qu’un explorateur.
                </p>
                <p data-lang-key="text313">
                    Tu devras être un observateur attentif et un survivant ingénieux.
                </p>
                <p data-lang-key="text314">
                    Prépare-toi à changer de dimension !
                </p>
                <br>
                <!-- Move to next page within the mission storyline. -->
                <button class="btn btn-outline-light" onclick="goNextPage()" data-lang-key="continue">
                    Continuer
                </button>
            </div>
        </div>

        <!-- 
            Section: Page 2
            Additional mission text.
        -->
        <div class="page" id="page2">
            <div class="game-description">
                <p data-lang-key="text146">
                    D'accord, ça marche !
                </p>
                <br>
                <button class="btn btn-outline-light" onclick="goNextPage()" data-lang-key="continue">
                    Continuer
                </button>
            </div>
        </div>

        <!-- 
            Section: Page 3
            Final text, leading to the intro or next big step in the story.
        -->
        <div class="page" id="page3">
            <div class="game-description">
                <p data-lang-key="text315">
                    Va, jeune héros.
                </p>
                <p data-lang-key="text316">
                    Et comme toujours... souviens-toi que nous croyons en toi.
                </p>
                <br>
                <!-- Takes user to the next phase (goIntro function). -->
                <button class="btn btn-outline-light" onclick="goIntro()" data-lang-key="continue">
                    Continuer
                </button>
            </div>
        </div>

    </div> <!-- End .content -->

    <!-- 
        Common navigation scripts handle user movements, data fetching, translations, 
        animations, background music, etc. 
        Make sure the relative paths reflect your folder structure accurately.
    -->
    <script src="../../../common_functions/navigation.js"></script>
    <script src="../../../common_functions/get_data.js"></script>
    <script src="../../../common_functions/animation.js"></script>
    <script src="../../../common_functions/index_planet.js"></script>
    <script src="../../../common_functions/translation.js"></script>
    <script src="../../../common_functions/languages.js"></script>
    <script src="../../../common_functions/basic.js"></script>
    <script src="../../../common_functions/background_music.js"></script>

    <script>
        /*
         * Initialization block: 
         * 1) Retrieve player's current level
         * 2) Ensure the user has unlocked or is allowed to view planet #12
         * 3) Play the relevant background music
         * 4) Setup how many pages are in the planet's storyline
         * 5) Setup characters for page transitions
        */

        // If user can't normally reach planet 12, redirect them
        var lvl = 1;
        retrieveLevel();
        checkIfLevelIsEnough(12, lvl);

        // Initialize background music track for "clouds"
        reInitMusic('clouds');

        // Number of mission pages
        var nbPage = 3;

        // This sets up character images on different pages 
        // (e.g. left side, right side) from index_planet.js or similar scripts
        setCharacterRight(1, "p16"); // Page 1, right side
        setCharacterLeft(2, chara);  // Page 2, left side
        setCharacterRight(3, "p16"); // Page 3, right side

        /*
         * function goNextAnimation() is called after the final
         * segment if there's any special "after" animations 
         * we want to run. Here we just move user to goIntro(). 
        */
        function goNextAnimation() {
            goIntro();
        }
    </script>
</body>
</html>
