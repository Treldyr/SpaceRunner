<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Runner</title>
    <link rel="stylesheet" href="../../css/default.css">
    <link rel="stylesheet" href="../../css/style_keyboard.css">
    <link rel="icon" href="../../images/p1down.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C8DGYXCTDV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C8DGYXCTDV');
</script>
<body>
    <h1>Contrôle du Volume</h1>
    <p>Utilisez la barre pour ajuster le volume des sons :</p>
    <input type="range" id="volumeControl" min="0" max="1" step="0.1" value="1" onchange="updateVolume(this.value)">

    <p id="currentVolume">Volume actuel : 100%</p>

    <button onclick="playMove()">Tester un son</button>

    <script>
        // Volume global par défaut
        let globalVolume = 1.0;

        // Met à jour le volume global et l'affiche dans la console
        function updateVolume(value) {
            globalVolume = parseFloat(value); // Convertit la valeur en nombre
            console.log("Volume mis à jour :", globalVolume);
            
            // Met à jour l'affichage du volume dans la page
            const percentage = Math.round(globalVolume * 100);
            document.getElementById('currentVolume').textContent = `Volume actuel : ${percentage}%`;
        }

        // Exemple de fonction pour jouer un son en respectant le volume global
        function playMove() {
            var audio = new Audio('../../../sons/mario_move.wav');
            audio.volume = globalVolume; // Applique le volume global
            audio.play();
        }
    </script>
</body>
</html>