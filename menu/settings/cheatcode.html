<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Runner</title>
    <link rel="stylesheet" href="../../css/default.css">
    <link rel="stylesheet" href="../../css/style_input.css">
    <link rel="icon" href="../../images/p1down.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C8DGYXCTDV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C8DGYXCTDV');
</script>
<body>
    <div class="background-image"></div>
    <div class="content">
        <h1 class="custom-title" data-lang-key="cheatcode">Code de Triche</h1>
        <h1 data-lang-key="entercode">Entrez votre code</h1>
        <br>
        <form onsubmit="handleCheatCode(event)">
            <input type="text" id="cheatCode" name="cheatCode" placeholder="" required>
            <button class="btn-start" data-lang-key="validate">Valider</button>
          </form>
        <button class="btn-start" onclick="goBackSettings()" data-lang-key="back">Retour</button>
        <div class="btn-back">
            <a onclick="goBackSettings()">
                <img class="arrow_back" src="../../images/arrow_back.png" alt="Retour">
            </a>
        </div>
    </div>
</body>
<script src="../../common_functions/navigation.js"></script>
<script src="../../common_functions/translation.js"></script>
<script src="../../common_functions/languages.js"></script>
<script src="../../common_functions/set_data.js"></script>
<script src="../../common_functions/get_data.js"></script>
<script src="../../common_functions/unlocks.js"></script>
<script>
    function simpleHash(str) {
        let hash = 0;
        for (let i = 0; i < str.length; i++) {
            hash = (hash << 5) - hash + str.charCodeAt(i);
            hash |= 0; // Conserve in 32 bits signed
        }
        return Math.abs(hash).toString(16);
    }

    function handleCheatCode(event) {
        event.preventDefault();
        const input = document.getElementById('cheatCode').value;
        const hash = simpleHash(input);
        console.log("Code hashÃ© :", hash);

        switch(hash){
        case "1a201865":
            UnlockPlanet(19)
            alert(languageData[document.documentElement.lang]["unlockAll1PLevels"]);
        break;
        case "4d703885":
            UnlockPlanet2pMode(8)
            alert(languageData[document.documentElement.lang]["unlockAll2PLevels"]);
        break;
        case "704e86c":
            UnlockGhost(4)
            alert(languageData[document.documentElement.lang]["unlockAllGhosts"]);
        break;
        case "5a5b64d":
            localStorage.clear();
            alert(languageData[document.documentElement.lang]["adventureInit"]);
        break;
        default:
            alert(languageData[document.documentElement.lang]["errorcode"] +" : "+input);
        }
    } 
</script>
</html> 