<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Runner</title>
    <link rel="stylesheet" href="style_highscore.css">
    <link rel="icon" href="../images/p1down.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    
</head>
<body>
    <div class="background-image"></div>
    <div class="content">
        <h1 class="custom-title">Space Runner</h1>
        <table>
            <thead>
                <tr>
                    <th>Plan√®tes</th>
                    <th>Coups</th>
                    <th>Temps</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td id="p1">Terre</td>
                    <td id="c1"> - </td>
                    <td id="t1"> - : - </td>
                </tr>
                <tr>
                    <td id="p2">Tatooine</td>
                    <td id="c2"> - </td>
                    <td id="t2"> - : - </td>
                </tr>
                <tr>
                    <td id="p3">Hoth</td>
                    <td id="c3"> - </td>
                    <td id="t3"> - : - </td>
                </tr>
                <tr>
                    <td id="p4">Kamino</td>
                    <td id="c4"> - </td>
                    <td id="t4"> - : - </td>
                </tr>
                <tr>
                    <td id="p5">Felucia</td>
                    <td id="c5"> - </td>
                    <td id="t5"> - : - </td>
                </tr>
            </tbody>
        </table>
        <button class="btn-start" onclick="returnToMainPage()">Retour</button>
    </div>
</body>

<script>
    var coups1 = " - ";
    var temps1;
    var coups2 = " - ";
    var temps2;
    var coups3 = " - ";
    var temps3;
    var coups4 = " - ";
    var temps4;
    var coups5 = " - ";
    var temps5;

    retrievePlanet1();
    retrievePlanet2();
    retrievePlanet3();
    retrievePlanet4();
    retrievePlanet5();

    setValeurTerre();
    setValeurTatooine();
    setValeurHoth();
    setValeurKamino();
    setValeurFelucia();


    function returnToMainPage() {
        window.location.href='main.html';
    }

    function retrievePlanet1() {
        var storedData = localStorage.getItem('terre');
        if (storedData !== null) {
            var terre = JSON.parse(storedData);
            coups1 = terre.coups;
            temps1 = terre.temps;
        }else{
            document.getElementById("p1").innerHTML = "???";
        }
    }

    function retrievePlanet2() {
        var storedData = localStorage.getItem('tatooine');
        if (storedData !== null) {
            var tatoo = JSON.parse(storedData);
            coups2 = tatoo.coups;
            temps2 = tatoo.temps;
        }else{
            document.getElementById("p2").innerHTML = "???";
        }
    }

    function retrievePlanet3() {
        var storedData = localStorage.getItem('hoth');
        if (storedData !== null) {
            var terre = JSON.parse(storedData);
            coups3 = terre.coups;
            temps3 = terre.temps;
        }else{
            document.getElementById("p3").innerHTML = "???";
        }
    }

    function retrievePlanet4() {
        var storedData = localStorage.getItem('kamino');
        if (storedData !== null) {
            var terre = JSON.parse(storedData);
            coups4 = terre.coups;
            temps4 = terre.temps;
        }else{
            document.getElementById("p4").innerHTML = "???";
        }
    }

    function retrievePlanet5() {
        var storedData = localStorage.getItem('felucia');
        if (storedData !== null) {
            var terre = JSON.parse(storedData);
            coups5 = terre.coups;
            temps5 = terre.temps;
        }else{
            document.getElementById("p5").innerHTML = "???";
        }
    }

    function pad(val) {
        var valString = val + "";
        if (valString.length < 2) {
            return "0" + valString;
        } else {
            return valString;
        }
    }

    function setValeurTerre(){
        let stringTemps;
        if(temps1==null){
            stringTemps = " - : - ";
        }else {
            stringTemps = pad(parseInt(temps1 / 60)) + " : "+pad(temps1 % 60);
        }
        document.getElementById("c1").innerHTML = coups1;
        document.getElementById("t1").innerHTML = stringTemps;  
    }

    function setValeurTatooine(){
        let stringTemps;
        if(temps2==null){
            stringTemps = " - : - ";
        }else {
            stringTemps = pad(parseInt(temps2 / 60)) + " : "+pad(temps2 % 60);
        }
        document.getElementById("c2").innerHTML = coups2;
        document.getElementById("t2").innerHTML = stringTemps;  
    }

    function setValeurHoth(){
        let stringTemps;
        if(temps3==null){
            stringTemps = " - : - ";
        }else {
            stringTemps = pad(parseInt(temps3 / 60)) + " : "+pad(temps3 % 60);
        }
        document.getElementById("c3").innerHTML = coups3;
        document.getElementById("t3").innerHTML = stringTemps;  
    }

    function setValeurKamino(){
        let stringTemps;
        if(temps4==null){
            stringTemps = " - : - ";
        }else {
            stringTemps = pad(parseInt(temps4 / 60)) + " : "+pad(temps4 % 60);
        }
        document.getElementById("c4").innerHTML = coups4;
        document.getElementById("t4").innerHTML = stringTemps;  
    }

    function setValeurFelucia(){
        let stringTemps;
        if(temps5==null){
            stringTemps = " - : - ";
        }else {
            stringTemps = pad(parseInt(temps5 / 60)) + " : "+pad(temps5 % 60);
        }
        document.getElementById("c5").innerHTML = coups5;
        document.getElementById("t5").innerHTML = stringTemps;  
    }


    

</script>
</html>